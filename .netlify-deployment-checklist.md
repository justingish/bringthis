# Netlify Deployment Checklist

Use this checklist to ensure your Netlify deployment is configured correctly.

## Pre-Deployment

- [ ] Code is pushed to Git repository (GitHub, GitLab, or Bitbucket)
- [ ] Supabase project is created and database schema is set up
- [ ] Local build works: `npm run build` completes successfully
- [ ] All tests pass: `npm test`

## Netlify Configuration

- [ ] Repository connected to Netlify
- [ ] Build command set to: `npm run build`
- [ ] Publish directory set to: `dist`
- [ ] `netlify.toml` file is in repository root

## Environment Variables (in Netlify Dashboard)

- [ ] `VITE_SUPABASE_URL` - Set to your Supabase project URL
- [ ] `VITE_SUPABASE_ANON_KEY` - Set to your Supabase anon/public key

## Post-Deployment Testing

- [ ] Site deploys successfully (check deploy logs)
- [ ] Homepage loads correctly
- [ ] Can create a new signup sheet
- [ ] View link works (can view signup sheet)
- [ ] Management link works (can edit signup sheet)
- [ ] Can claim an item
- [ ] Claim edit link works
- [ ] Page refresh doesn't cause 404 errors (client-side routing works)
- [ ] All routes are accessible:
  - [ ] `/` (Create page)
  - [ ] `/sheet/:sheetId` (View page)
  - [ ] `/sheet/:sheetId/edit/:managementToken` (Edit sheet page)
  - [ ] `/claim/:claimToken` (Edit claim page)

## Security Verification

- [ ] `.env` file is NOT committed to repository
- [ ] Environment variables are only in Netlify dashboard
- [ ] Supabase Row Level Security policies are configured
- [ ] Security headers are applied (check netlify.toml)

## Optional Enhancements

- [ ] Custom domain configured
- [ ] SSL certificate active (automatic with Netlify)
- [ ] Deploy notifications configured (Slack, email, etc.)
- [ ] Branch deploys enabled for staging/preview

## Troubleshooting Resources

If you encounter issues, refer to:

- `DEPLOYMENT.md` - Detailed deployment guide
- Netlify deploy logs - In dashboard under "Deploys"
- Browser console - For client-side errors
- Supabase logs - For database/API errors

## Rollback Plan

If deployment fails:

1. Check deploy logs for errors
2. Verify environment variables
3. Test build locally
4. If needed, publish a previous working deploy from Netlify dashboard
